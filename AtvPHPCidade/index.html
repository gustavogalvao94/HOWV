<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Estados e Cidades</title>
    <script>
        function buscarCidades(estado) {
            if (estado === "") {
                document.getElementById("cidades").innerHTML = "<option>Selecione um estado</option>";
                return;
            }

            const xhr = new XMLHttpRequest();
            xhr.open("GET", "cidades.php?estado=" + estado, true);
            xhr.onreadystatechange = function () {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    const cidades = JSON.parse(xhr.responseText);
                    const selectCidades = document.getElementById("cidades");
                    selectCidades.innerHTML = "";

                    cidades.forEach(function (cidade) {
                        const opt = document.createElement("option");
                        opt.value = cidade;
                        opt.textContent = cidade;
                        selectCidades.appendChild(opt);
                    });
                }
            };
            xhr.send();
        }
    </script>
</head>
<body>
<h2>Formulário de Estados e Cidades</h2>

<form>
    <label for="estados">Estados:</label>
    <select id="estados" name="estados" onchange="buscarCidades(this.value)">
        <option value="">Selecione um estado</option>
        <option value="PR">Paraná</option>
        <option value="SP">São Paulo</option>
        <option value="RJ">Rio de Janeiro</option>
        <option value="MG">Minas Gerais</option>
    </select>

    <br><br>

    <label for="cidades">Cidades:</label>
    <select id="cidades" name="cidades">
        <option>Selecione um estado primeiro</option>
    </select>
</form>
</body>
</html>